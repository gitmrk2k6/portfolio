## 学習塾の退塾防止＆成績向上支援チャットボット

【対象業種】
小学5年生〜中学3年生を対象とする個別指導・集団指導の学習塾向けチャットボット（月商200万円以上、在籍生徒数50名以上の塾を想定）

【解決する課題】
退塾理由の約8割は「モチベーション低下」「成績が上がらない」「講師との相性」「宿題負担」の4パターンに分類されるが、現状では退塾を申し出られて初めて問題に気づくケースが大半。生徒が講師に本音を言えないまま退塾に至り、年間推定500万円（退塾による機会損失324万円＋新規獲得コストの未回収180万円）の損失が発生している。また、講師が個別フォローに十分な時間を割けず、生徒の小さな変化や成長を見逃してしまう構造的な問題がある。

【主な機能】
- 週1回のチェックイン機能：生徒がWeb画面から「今週の調子」「やる気」「成績」「先生」「宿題」の5項目を3段階で回答し、自由コメントを入力。所要時間2〜3分で心理的負担が低い設計
- 退塾リスクの自動判定：IF/ELSE条件分岐により、全項目「問題なし」の生徒には成長を承認する「賞賛パス」、1つでも懸念がある生徒には悩みを受け止める「深掘りパス」へ自動ルーティング
- 時期別バージョン切替（5種類）：通常版・試験前版・試験後版・夏休み版・受験期版を用意し、「試験前の焦り」「試験後の落ち込み」「夏休みの中だるみ」「受験期のプレッシャー」など、時期特有の心理状態に最適化した対話を実現
- Googleスプレッドシート自動記録：HTTP通信でGoogle Apps Scriptと連携し、生徒名・学年・回答内容・コメントを全件自動保存。講師が時系列でモチベーション推移を確認でき、退塾予兆の早期発見に活用可能
- 月次保護者レポート支援：蓄積データをもとに、子供の学習状況やモチベーション推移を保護者に可視化するレポートの作成を支援

【設計上のこだわり】
- 「先輩トーン」のプロンプト設計：教師的な上から目線ではなく、年齢の近い先輩が寄り添うカジュアルなトーンを徹底。「〜くん」「〜さん」と呼びかけ、「わかるよ」「あるよね」など自然な共感表現を使用
- 「解決しない」という設計思想：チャットボットの役割は「聞いてもらえた安心感」に限定し、具体的な学習指導は講師に委ねる。AI×人間のハイブリッド設計により、講師の専門性を活かしながらフォローの抜け漏れを防止
- 禁止ルールの明確化：「先生に伝えるね」（生徒の信頼を損なう）、「休むのも大事」（退塾リスク）、「頑張れ！」（プレッシャー）など、教育現場で逆効果になりやすい表現をプロンプトレベルで制御
- 悩み別の対応分岐：やる気低下・成績不安・講師への不満・宿題負担それぞれに対して、共感→視点の提示→締めくくりの応答構成を最適化

【使用した技術】
- Dify Chatflow（Advanced Chat モード）：開始ノード → IF/ELSE条件分岐 → 2つのLLMノード（賞賛パス/深掘りパス） → HTTPリクエストノード → 回答ノードの5段階ワークフロー
- 開始ノードの変数設計：テキスト入力（名前）＋ セレクト入力（学年・調子・各懸念項目）の7変数で構造化データを収集
- LLMモデル：GPT-4o-mini（低コスト・高速応答・十分な対話品質のバランスを考慮して選定）
- Google Apps Script（GAS）：DifyからのHTTPリクエストを受け取り、Googleスプレッドシートへデータを書き込むWebhookとして機能
- 条件分岐ロジック：5つの入力項目すべてが「良好」の場合のみ賞賛パスへルーティングし、1つでも懸念があれば深掘りパスへ。AND条件による厳密な判定で、小さなサインも見逃さない設計

【想定される効果】
3ヶ月継続率を70%→85%に改善し、平均継続期間を6ヶ月→9ヶ月に延伸（LTV 50%向上）。退塾率の改善と継続期間の延伸により、年間推定1,080万円の売上増加を実現。退塾予兆の早期検知率80%以上を目標とし、講師が問題発生の1〜2週間前に介入できる体制を構築。副次的に、講師の個別フォロー業務の効率化、保護者満足度の向上、「寄り添う塾」としてのブランディング強化にも寄与。
